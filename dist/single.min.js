/*! single.js 15-01-2021 */

var single=function(){var e=function(e,t){var n=e.options[t.target.getAttribute("single-index")];if(!n.disabled){n.selected=!n.selected;for(var a=0;a<e.options.length;a++){var r=e.options[a];"false"===r.getAttribute("data-origin-disabled")&&r.removeAttribute("disabled")}var d,l,i;d="change",l=e,(i=document.createEvent("HTMLEvents")).initEvent(d,!1,!0),l.dispatchEvent(i)}},t=function(e,t){if(e.wrapper.selected.innerHTML="",e.wrapper.non_selected.innerHTML="",t.non_selected_header&&t.selected_header){var n=document.createElement("div"),a=document.createElement("div");n.className="header",a.className="header",n.innerText=t.non_selected_header,a.innerText=t.selected_header,e.wrapper.non_selected.appendChild(n),e.wrapper.selected.appendChild(a)}if(e.wrapper.search)var r=e.wrapper.search.value;for(var d=null,l=null,i=0;i<e.options.length;i++){var s=e.options[i],c=s.value,o=s.textContent||s.innerText,p=document.createElement("a");if(p.tabIndex=0,p.className="item",p.innerText=o,p.setAttribute("role","button"),p.setAttribute("data-value",c),p.setAttribute("single-index",i),s.disabled&&(p.className+=" disabled"),s.selected){p.className+=" selected";var u=p.cloneNode(!0);e.wrapper.selected.appendChild(u)}var h=!r||r&&o.toLowerCase().indexOf(r.toLowerCase())>-1;if("OPTGROUP"==s.parentNode.nodeName&&s.parentNode!=l&&(l=s.parentNode,(d=document.createElement("div")).className="item-group",h)){if(s.parentNode.label){var v=document.createElement("span");v.innerHTML=s.parentNode.label,v.className="group-label",d.appendChild(v)}e.wrapper.non_selected.appendChild(d)}s.parentNode==e&&(d=null,l=null),h&&(null!=d?d.appendChild(p):e.wrapper.non_selected.appendChild(p))}};return function(n,a){if((a=void 0!==a?a:{}).enable_search=void 0===a.enable_search||a.enable_search,a.search_placeholder=void 0!==a.search_placeholder?a.search_placeholder:"Search...",a.non_selected_header=void 0!==a.non_selected_header?a.non_selected_header:null,a.selected_header=void 0!==a.selected_header?a.selected_header:null,null==n.dataset.singlejs&&"SELECT"==n.nodeName){n.style.display="none",n.setAttribute("data-singlejs",!0);var r=document.createElement("div");if(r.className="single-wrapper",a.enable_search){var d=document.createElement("input");d.className="search-input",d.type="text",d.setAttribute("placeholder",a.search_placeholder),d.addEventListener("input",function(){t(n,a)}),r.appendChild(d),r.search=d}var l=document.createElement("div");l.className="non-selected-wrapper";var i=document.createElement("div");i.className="selected-wrapper",r.addEventListener("click",function(t){t.target.getAttribute("single-index")&&e(n,t)}),r.addEventListener("keypress",function(t){var a=32===t.keyCode||13===t.keyCode;t.target.getAttribute("single-index")&&a&&(t.preventDefault(),e(n,t))}),r.appendChild(l),r.appendChild(i),r.non_selected=l,r.selected=i,n.wrapper=r,n.parentNode.insertBefore(r,n.nextSibling),null!==n.value&&(selectedValue=n.value),t(n,a),n.addEventListener("change",function(){t(n,a)})}}}();"undefined"!=typeof jQuery&&function(e){e.fn.single=function(t){return t=void 0!==t?t:{},this.each(function(){var n=e(this);single(n.get(0),t)})}}(jQuery);