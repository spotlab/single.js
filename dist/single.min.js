/*! single.js 05-02-2020 */

var single=function(){var e=function(e,t){var n,a,r,i=e.options[t.target.getAttribute("single-index")];i.disabled||(i.selected=!i.selected,n="change",a=e,(r=document.createEvent("HTMLEvents")).initEvent(n,!1,!0),a.dispatchEvent(r))},t=function(e,t){if(e.wrapper.selected.innerHTML="",e.wrapper.non_selected.innerHTML="",e.wrapper.search)var n=e.wrapper.search.value;for(var a=0;a<e.options.length;a++){var r=e.options[a],i=r.value,s=r.textContent||r.innerText,l=document.createElement("a");if(l.tabIndex=0,l.className="item",l.innerHTML=s,l.setAttribute("role","button"),l.setAttribute("data-value",i),l.setAttribute("single-index",a),r.disabled&&(l.className+=" disabled"),r.value==selectedValue){l.className+=" selected";var d=l.cloneNode(!0);e.wrapper.selected.appendChild(d)}(!n||n&&s.toLowerCase().indexOf(n.toLowerCase())>-1)&&e.wrapper.non_selected.appendChild(l)}};return function(n,a){if((a=void 0!==a?a:{}).enable_search=void 0===a.enable_search||a.enable_search,a.search_placeholder=void 0!==a.search_placeholder?a.search_placeholder:"Search...",null==n.dataset.singlejs&&"SELECT"==n.nodeName){n.style.display="none",n.setAttribute("data-singlejs",!0);var r=document.createElement("div");if(r.className="single-wrapper",a.enable_search){var i=document.createElement("input");i.className="search-input",i.type="text",i.setAttribute("placeholder",a.search_placeholder),i.addEventListener("input",function(){t(n)}),r.appendChild(i),r.search=i}var s=document.createElement("div");s.className="non-selected-wrapper";var l=document.createElement("div");l.className="selected-wrapper",r.addEventListener("click",function(t){t.target.getAttribute("single-index")&&e(n,t)}),r.addEventListener("keypress",function(t){var a=32===t.keyCode||13===t.keyCode;t.target.getAttribute("single-index")&&a&&(t.preventDefault(),e(n,t))}),r.appendChild(s),r.appendChild(l),r.non_selected=s,r.selected=l,n.wrapper=r,n.parentNode.insertBefore(r,n.nextSibling),null!==n.value&&(selectedValue=n.value),t(n),n.addEventListener("change",function(){t(n)})}}}();"undefined"!=typeof jQuery&&function(e){e.fn.single=function(t){return t=void 0!==t?t:{},this.each(function(){var n=e(this);single(n.get(0),t)})}}(jQuery);