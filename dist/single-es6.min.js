/*! single.js 05-02-2020 */

var single=function(){var e=function(e,t){var n,a,r,i=e.options[t.target.getAttribute("single-index")];i.disabled||(i.selected=!i.selected,n="change",a=e,(r=document.createEvent("HTMLEvents")).initEvent(n,!1,!0),a.dispatchEvent(r))},t=function(e,t){if(e.wrapper.selected.innerHTML="",e.wrapper.non_selected.innerHTML="",e.wrapper.search)var n=e.wrapper.search.value;for(var a=0;a<e.options.length;a++){var r=e.options[a],i=r.value,l=r.textContent||r.innerText,s=document.createElement("a");if(s.tabIndex=0,s.className="item",s.innerHTML=l,s.setAttribute("role","button"),s.setAttribute("data-value",i),s.setAttribute("single-index",a),r.disabled&&(s.className+=" disabled"),r.value==selectedValue){s.className+=" selected";var d=s.cloneNode(!0);e.wrapper.selected.appendChild(d)}(!n||n&&l.toLowerCase().indexOf(n.toLowerCase())>-1)&&e.wrapper.non_selected.appendChild(s)}};return function(n,a){if((a=void 0!==a?a:{}).enable_search=void 0===a.enable_search||a.enable_search,a.search_placeholder=void 0!==a.search_placeholder?a.search_placeholder:"Search...",null==n.dataset.singlejs&&"SELECT"==n.nodeName){n.style.display="none",n.setAttribute("data-singlejs",!0);var r=document.createElement("div");if(r.className="single-wrapper",a.enable_search){var i=document.createElement("input");i.className="search-input",i.type="text",i.setAttribute("placeholder",a.search_placeholder),i.addEventListener("input",function(){t(n)}),r.appendChild(i),r.search=i}var l=document.createElement("div");l.className="non-selected-wrapper";var s=document.createElement("div");s.className="selected-wrapper",r.addEventListener("click",function(t){t.target.getAttribute("single-index")&&e(n,t)}),r.addEventListener("keypress",function(t){var a=32===t.keyCode||13===t.keyCode;t.target.getAttribute("single-index")&&a&&(t.preventDefault(),e(n,t))}),r.appendChild(l),r.appendChild(s),r.non_selected=l,r.selected=s,n.wrapper=r,n.parentNode.insertBefore(r,n.nextSibling),null!==n.value&&(selectedValue=n.value),t(n),n.addEventListener("change",function(){t(n)})}}}();"undefined"!=typeof jQuery&&function(e){e.fn.single=function(t){return t=void 0!==t?t:{},this.each(function(){var n=e(this);single(n.get(0),t)})}}(jQuery);export default multi;